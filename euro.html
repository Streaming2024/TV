<!DOCTYPE html>
<html>
<head>
    <title>Video Player</title>
    <meta content="noindex, nofollow, noarchive" name="robots"/>
    <meta name="referrer" content="no-referrer" />
    <script src="//content.jwplatform.com/libraries/SAHhwvZq.js"></script>
    <script disable-devtool-auto src='https://cdn.jsdelivr.net/npm/disable-devtool'></script>
</head>
<body>
    <div id="player" class="ViostreamIframe"></div>

    <script>
        function getParameterByName(name) {
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(window.location.href);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        var ConfiguracionCanales = {
            "FEED_1": {
                url: "https://cors-proxy.cooks.fyi/https://d25tgymtnqzu8s.cloudfront.net/event/smil:ag1/manifest.mpd",
                k1: "14bc9706a4b044f083401ad4912ff657",
                k2: "e26b1490488635cdd2dc41c8b81c8cc1"
            },
            "FEED_2": {
                url: "https://cors-proxy.cooks.fyi/https://d25tgymtnqzu8s.cloudfront.net/event/smil:ag2/manifest.mpd",
                k1: "00c74743daaa4519b2d3d6b6e7a9a89c",
                k2: "87f7e82f78206a846a85bb214e619ed1"
            },
            // New Optus Sport Feeds
            "OPTUS_1": {
                url: "https://uniproxy.misty.workers.dev/https://linear.aws.optusvideo.tv/v7/OptusSport1/xbtss/drm/avc/dash/plain/manifest.mpd",
                k1: "03b47c8e5bdf41cbbbef29be6a18de9e",
                k2: "3e13b4627eed3885cb58818fdc39d66f"
            },
            "OPTUS_2": {
                url: "https://uniproxy.misty.workers.dev/https://linear.aws.optusvideo.tv/v7/OptusSport2/xbtss/drm/avc/dash/plain/manifest.mpd",
                k1: "127b26420b5343719a317dc6abc3099e",
                k2: "a859aa07a1a3a75eb6525195ca441488"
            },
            // ... (other Optus Sport feeds) ...

            // New Eurosport Feeds
            "EUROSPORT_1": {
                url: "https://cache3.zapitv.com/live/eds_c2/eurosport_1_hd/dash_live_enc/eurosport_1_hd.mpd",
                k1: "237be8ca9383755e9f5784dd23f545eb",
                k2: "15a723773c3b3cbce295c0aed0bc71c3"
            },
            "EUROSPORT_2": {
                url: "https://cache3.zapitv.com/live/eds_c2/eurosport_2_hd/dash_live_enc/eurosport_2_hd.mpd",
                k1: "15382879a9bcfa6f1a04a86d5b4324e9",
                k2: "664241133368ab039dc1fb15206ba54b"
            }
        };

        var id = getParameterByName('id');
        var config = ConfiguracionCanales[id];

        if (config) {
            var sources = [];

            if (config.url.includes('.m3u8')) {
                sources.push({
                    file: config.url
                });
            }
            
            if (config.url.includes('.mpd') && config.k1 && config.k2) {
                sources.push({
                    file: config.url,
                    drm: {"clearkey": {"keyId": config.k1, "key": config.k2}}
                });
            }

            jwplayer("player").setup({
                playlist: [{
                    sources: sources
                }],
                autostart: true,
                width: "100%", 
                height: "100%", 
                stretching: "exactfit",
                aspectratio: "16:9",
                skin: {controlbar: {text:"#FA7663", icons:"#FFFFFF"}, timeslider:{progress:"#FA7663"}, menus:{text:"#FA7663"} },
                cast: {} 
            });
        }
    </script>
</body>
</html>
